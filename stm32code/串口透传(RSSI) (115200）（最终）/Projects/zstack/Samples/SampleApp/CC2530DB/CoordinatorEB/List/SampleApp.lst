###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.40338/W32 for 8051         23/May/2017  20:18:35 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  E:\ZIGBEE\串口透传(RSSI)                           #
#                          (115200）\Projects\zstack\Samples\SampleApp\Source #
#                          \SampleApp.c                                       #
#    Command line       =  -f "E:\ZIGBEE\串口透传(RSSI)                       #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"           #
#                          (-DCPU32MHZ -DROOT=__near_func                     #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f "E:\ZIGBEE\串口透传(RSSI)                       #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"          #
#                          (-DZIGBEEPRO -DSECURE=0 -DZG_SECURE_DYNAMIC=0      #
#                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800          #
#                          -DZDAPP_CONFIG_PAN_ID=0xFF00                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "E:\ZIGBEE\串口透传(RSSI)   #
#                          (115200）\Projects\zstack\Samples\SampleApp\Source #
#                          \SampleApp.c" -D ZTOOL_P1 -D xMT_TASK -D           #
#                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                    #
#                          LCD_SUPPORTED=DEBUG -lC "E:\ZIGBEE\串口透传(RSSI)  #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\CoordinatorEB\List\" -lA                        #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\CoordinatorEB\List\" --diag_suppress            #
#                          Pe001,Pa010 -o "E:\ZIGBEE\串口透传(RSSI)           #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\CoordinatorEB\Obj\" -e --no_code_motion         #
#                          --debug --core=plain --dptr=16,1                   #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I "E:\ZIGBEE\串口透传(RSSI)                       #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\" -I "E:\ZIGBEE\串口透传(RSSI)                  #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\Source\" -I "E:\ZIGBEE\串口透传(RSSI)        #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\ZMain\TI2530DB\" -I                    #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\hal\include\" -I      #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\hal\target\CC2530EB\" #
#                           -I "E:\ZIGBEE\串口透传(RSSI)                      #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\mac\include\" -I      #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\mac\high_level\" -I   #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\mac\low_level\srf04\" #
#                           -I "E:\ZIGBEE\串口透传(RSSI)                      #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\mac\low_level\srf04\s #
#                          ingle_chip\" -I "E:\ZIGBEE\串口透传(RSSI)          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\mt\" -I               #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\osal\include\" -I     #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\services\saddr\" -I   #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\services\sdata\" -I   #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\stack\af\" -I         #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\stack\nwk\" -I        #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\stack\sapi\" -I       #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\stack\sec\" -I        #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\stack\sys\" -I        #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\stack\zdo\" -I        #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\zmac\" -I             #
#                          "E:\ZIGBEE\串口透传(RSSI)                          #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\zmac\f8w\" -Ohz       #
#                          --require_prototypes                               #
#    List file          =  E:\ZIGBEE\串口透传(RSSI)                           #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\CoordinatorEB\List\SampleApp.lst                #
#    Object file        =  E:\ZIGBEE\串口透传(RSSI)                           #
#                          (115200）\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\CoordinatorEB\Obj\SampleApp.r51                 #
#                                                                             #
#                                                                             #
###############################################################################

E:\ZIGBEE\串口透传(RSSI) (115200）\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
      1          /**************************************************************************************************
      2            Filename:       SampleApp.c
      3            Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    Sample Application (no Profile).
      7          
      8          
      9            Copyright 2007 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41            This application isn't intended to do anything useful, it is
     42            intended to be a simple example of an application's structure.
     43          
     44            This application sends it's messages either as broadcast or
     45            broadcast filtered group messages.  The other (more normal)
     46            message addressing is unicast.  Most of the other sample
     47            applications are written to support the unicast message model.
     48          
     49            Key control:
     50              SW1:  Sends a flash command to all devices in Group 1.
     51              SW2:  Adds/Removes (toggles) this device in and out
     52                    of Group 1.  This will enable and disable the
     53                    reception of the flash command.
     54          *********************************************************************/
     55          
     56          /*********************************************************************
     57           * INCLUDES
     58           */
     59          #include "OSAL.h"
     60          #include "ZGlobals.h"
     61          #include "AF.h"
     62          #include "aps_groups.h"
     63          #include "ZDApp.h"
     64          #include "OSAL_Nv.h"
     65          #include "SampleApp.h"
     66          #include "SampleAppHw.h"
     67          #include "math.h"
     68          #include "OnBoard.h"
     69          
     70          /* HAL */
     71          #include "hal_lcd.h"
     72          #include "hal_led.h"
     73          #include "hal_key.h"
     74          
     75          #include  "MT_UART.h" //此处用于串口
     76          #include  "MT.h"
     77          
     78          /*********************************************************************
     79           * MACROS
     80           */
     81          
     82          /*********************************************************************
     83           * CONSTANTS
     84           */
     85          
     86          /*********************************************************************
     87           * TYPEDEFS
     88           */
     89          
     90          /*********************************************************************
     91           * GLOBAL VARIABLES
     92           */
     93          
     94          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     95          const cId_t SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS] =
   \                     SampleApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0000         DW 0
     96          {
     97            SAMPLEAPP_PERIODIC_CLUSTERID,
     98            SAMPLEAPP_FLASH_CLUSTERID
     99          };
    100          

   \                                 In  segment XDATA_ROM_C, align 1
    101          const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
   \                     SampleApp_SimpleDesc:
   \   000000   14           DB 20
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   03           DB 3
   \   000007   ....         DW SampleApp_ClusterList
   \   000009   03           DB 3
   \   00000A   ....         DW SampleApp_ClusterList
    102          {
    103            SAMPLEAPP_ENDPOINT,              //  int Endpoint;
    104            SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
    105            SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    106            SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    107            SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
    108            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    109            (cId_t *)SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
    110            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    111            (cId_t *)SampleApp_ClusterList   //  uint8 *pAppInClusterList;
    112          };
    113          
    114          // This is the Endpoint/Interface description.  It is defined here, but
    115          // filled-in in SampleApp_Init().  Another way to go would be to fill
    116          // in the structure here and make it a "const" (in code space).  The
    117          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    118          endPointDesc_t SampleApp_epDesc;
   \                     SampleApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    119          
    120          /*********************************************************************
    121           * EXTERNAL VARIABLES
    122           */
    123          
    124          /*********************************************************************
    125           * EXTERNAL FUNCTIONS
    126           */
    127          
    128          /*********************************************************************
    129           * LOCAL VARIABLES
    130           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    131          uint8 SampleApp_TaskID;   // Task ID for internal task/event processing
   \                     SampleApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    132                                    // This variable will be received when
    133                                    // SampleApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    134          devStates_t SampleApp_NwkState;
   \                     SampleApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    135          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    136          uint8 SampleApp_TransID;  // This is the unique message ID (counter)
   \                     SampleApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    137          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    138          afAddrType_t SampleApp_Periodic_DstAddr,SampleApp_PTP_DstAddr;
   \                     SampleApp_Periodic_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     SampleApp_PTP_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    139          afAddrType_t SampleApp_Flash_DstAddr;
   \                     SampleApp_Flash_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    140          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          aps_Group_t SampleApp_Group;
   \                     SampleApp_Group:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z
    142          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    143          uint8 SampleAppPeriodicCounter = 0;
   \                     SampleAppPeriodicCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    144          uint8 SampleAppFlashCounter = 0;
   \                     SampleAppFlashCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    145          
    146          /*********************************************************************
    147           * LOCAL FUNCTIONS
    148           */
    149          void SampleApp_HandleKeys( uint8 shift, uint8 keys );
    150          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    151          void SampleApp_SendPeriodicMessage( void );
    152          void SampleApp_SendFlashMessage( uint16 flashTime );
    153          void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg);
    154          
    155          /*********************************************************************
    156           * NETWORK LAYER CALLBACKS
    157           */
    158          
    159          /*********************************************************************
    160           * PUBLIC FUNCTIONS
    161           */
    162          
    163          /*********************************************************************
    164           * @fn      SampleApp_Init
    165           *
    166           * @brief   Initialization function for the Generic App Task.
    167           *          This is called during initialization and should contain
    168           *          any application specific initialization (ie. hardware
    169           *          initialization/setup, table initialization, power up
    170           *          notificaiton ... ).
    171           *
    172           * @param   task_id - the ID assigned by OSAL.  This ID should be
    173           *                    used to send messages and set timers.
    174           *
    175           * @return  none
    176           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    177          void SampleApp_Init( uint8 task_id )
   \                     SampleApp_Init:
    178          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    179            uint8 data=1;
   \   00000C   85..82       MOV     DPL,?XSP + 0
   \   00000F   85..83       MOV     DPH,?XSP + 1
   \   000012   7401         MOV     A,#0x1
   \   000014   F0           MOVX    @DPTR,A
    180            
    181            SampleApp_TaskID = task_id;
   \   000015   EE           MOV     A,R6
   \   000016   90....       MOV     DPTR,#SampleApp_TaskID
   \   000019   F0           MOVX    @DPTR,A
    182            SampleApp_NwkState = DEV_INIT;
   \   00001A   90....       MOV     DPTR,#SampleApp_NwkState
   \   00001D   7401         MOV     A,#0x1
   \   00001F   F0           MOVX    @DPTR,A
    183            SampleApp_TransID = 0;
   \   000020   90....       MOV     DPTR,#SampleApp_TransID
   \   000023   E4           CLR     A
   \   000024   F0           MOVX    @DPTR,A
    184            
    185            MT_UartInit();//串口初始化
   \   000025                ; Setup parameters for call to function MT_UartInit
   \   000025   12....       LCALL   ??MT_UartInit?relay
    186            MT_UartRegisterTaskID(task_id);//登记任务号
   \   000028                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   000028   EE           MOV     A,R6
   \   000029   F9           MOV     R1,A
   \   00002A   12....       LCALL   ??MT_UartRegisterTaskID?relay
    187            //HalUARTWrite(0,"Hello World\n",12); //（串口0，'字符'，字符个数。）
    188            
    189           osal_nv_item_init( 0x0201, 1, NULL);
   \   00002D                ; Setup parameters for call to function osal_nv_item_init
   \   00002D   E4           CLR     A
   \   00002E   F5..         MOV     ?V0 + 0,A
   \   000030   F5..         MOV     ?V0 + 1,A
   \   000032   78..         MOV     R0,#?V0 + 0
   \   000034   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000037   7C01         MOV     R4,#0x1
   \   000039   7D00         MOV     R5,#0x0
   \   00003B   7A01         MOV     R2,#0x1
   \   00003D   7B02         MOV     R3,#0x2
   \   00003F   12....       LCALL   ??osal_nv_item_init?relay
   \   000042   7402         MOV     A,#0x2
   \   000044   12....       LCALL   ?DEALLOC_XSTACK8
    190          
    191            osal_nv_write( 0x0201, 0, 1, &data );
   \   000047                ; Setup parameters for call to function osal_nv_write
   \   000047   85..82       MOV     DPL,?XSP + 0
   \   00004A   85..83       MOV     DPH,?XSP + 1
   \   00004D   8582..       MOV     ?V0 + 0,DPL
   \   000050   8583..       MOV     ?V0 + 1,DPH
   \   000053   78..         MOV     R0,#?V0 + 0
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000058   75..01       MOV     ?V0 + 0,#0x1
   \   00005B   75..00       MOV     ?V0 + 1,#0x0
   \   00005E   78..         MOV     R0,#?V0 + 0
   \   000060   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000063   7C00         MOV     R4,#0x0
   \   000065   7D00         MOV     R5,#0x0
   \   000067   7A01         MOV     R2,#0x1
   \   000069   7B02         MOV     R3,#0x2
   \   00006B   12....       LCALL   ??osal_nv_write?relay
   \   00006E   7404         MOV     A,#0x4
   \   000070   12....       LCALL   ?DEALLOC_XSTACK8
    192          
    193               //osal_nv_read( 0x0201,0, 3,buf );
    194            
    195             
    196            // Device hardware initialization can be added here or in main() (Zmain.c).
    197            // If the hardware is application specific - add it here.
    198            // If the hardware is other parts of the device add it in main().
    199          
    200           #if defined ( BUILD_ALL_DEVICES )
    201            // The "Demo" target is setup to have BUILD_ALL_DEVICES and HOLD_AUTO_START
    202            // We are looking at a jumper (defined in SampleAppHw.c) to be jumpered
    203            // together - if they are - we will start up a coordinator. Otherwise,
    204            // the device will start as a router.
    205            if ( readCoordinatorJumper() )
    206              zgDeviceLogicalType = ZG_DEVICETYPE_COORDINATOR;
    207            else
    208              zgDeviceLogicalType = ZG_DEVICETYPE_ROUTER;
    209          #endif // BUILD_ALL_DEVICES
    210          
    211          #if defined ( HOLD_AUTO_START )
    212            // HOLD_AUTO_START is a compile option that will surpress ZDApp
    213            //  from starting the device and wait for the application to
    214            //  start the device.
    215            ZDOInitDevice(0);
    216          #endif
    217          
    218            // Setup for the periodic message's destination address
    219            // Broadcast to everyone
    220            SampleApp_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   \   000073   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr + 8
   \   000076   740F         MOV     A,#0xf
   \   000078   F0           MOVX    @DPTR,A
    221            SampleApp_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000079   A3           INC     DPTR
   \   00007A   7414         MOV     A,#0x14
   \   00007C   F0           MOVX    @DPTR,A
    222            SampleApp_Periodic_DstAddr.addr.shortAddr = 0xffff;
   \   00007D   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr
   \   000080   74FF         MOV     A,#-0x1
   \   000082   F0           MOVX    @DPTR,A
   \   000083   A3           INC     DPTR
   \   000084   F0           MOVX    @DPTR,A
    223          
    224            SampleApp_PTP_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000085   90....       MOV     DPTR,#SampleApp_PTP_DstAddr + 8
   \   000088   7402         MOV     A,#0x2
   \   00008A   F0           MOVX    @DPTR,A
    225            SampleApp_PTP_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   00008B   A3           INC     DPTR
   \   00008C   7414         MOV     A,#0x14
   \   00008E   F0           MOVX    @DPTR,A
    226            SampleApp_PTP_DstAddr.addr.shortAddr = 0x0000; 
   \   00008F   90....       MOV     DPTR,#SampleApp_PTP_DstAddr
   \   000092   E4           CLR     A
   \   000093   F0           MOVX    @DPTR,A
   \   000094   A3           INC     DPTR
   \   000095   F0           MOVX    @DPTR,A
    227            
    228            // Setup for the flash command's destination address - Group 1
    229            SampleApp_Flash_DstAddr.addrMode = (afAddrMode_t)afAddrGroup;
   \   000096   90....       MOV     DPTR,#SampleApp_Flash_DstAddr + 8
   \   000099   04           INC     A
   \   00009A   F0           MOVX    @DPTR,A
    230            SampleApp_Flash_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   00009B   A3           INC     DPTR
   \   00009C   7414         MOV     A,#0x14
   \   00009E   F0           MOVX    @DPTR,A
    231            SampleApp_Flash_DstAddr.addr.shortAddr = SAMPLEAPP_FLASH_GROUP;
   \   00009F   90....       MOV     DPTR,#SampleApp_Flash_DstAddr
   \   0000A2   7401         MOV     A,#0x1
   \   0000A4   F0           MOVX    @DPTR,A
   \   0000A5   A3           INC     DPTR
   \   0000A6   E4           CLR     A
   \   0000A7   F0           MOVX    @DPTR,A
    232          
    233            // Fill out the endpoint description.
    234            SampleApp_epDesc.endPoint = SAMPLEAPP_ENDPOINT;
   \   0000A8   90....       MOV     DPTR,#SampleApp_epDesc
   \   0000AB   7414         MOV     A,#0x14
   \   0000AD   F0           MOVX    @DPTR,A
    235            SampleApp_epDesc.task_id = &SampleApp_TaskID;
   \   0000AE   A3           INC     DPTR
   \   0000AF   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   0000B1   F0           MOVX    @DPTR,A
   \   0000B2   A3           INC     DPTR
   \   0000B3   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   0000B5   F0           MOVX    @DPTR,A
    236            SampleApp_epDesc.simpleDesc
    237                      = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc;
   \   0000B6   A3           INC     DPTR
   \   0000B7   74..         MOV     A,#SampleApp_SimpleDesc & 0xff
   \   0000B9   F0           MOVX    @DPTR,A
   \   0000BA   A3           INC     DPTR
   \   0000BB   74..         MOV     A,#(SampleApp_SimpleDesc >> 8) & 0xff
   \   0000BD   F0           MOVX    @DPTR,A
    238            SampleApp_epDesc.latencyReq = noLatencyReqs;
   \   0000BE   A3           INC     DPTR
   \   0000BF   E4           CLR     A
   \   0000C0   F0           MOVX    @DPTR,A
    239          
    240            // Register the endpoint description with the AF
    241            afRegister( &SampleApp_epDesc );
   \   0000C1                ; Setup parameters for call to function afRegister
   \   0000C1   7A..         MOV     R2,#SampleApp_epDesc & 0xff
   \   0000C3   7B..         MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
   \   0000C5   12....       LCALL   ??afRegister?relay
    242          
    243            // Register for all key events - This app will handle all key events
    244            RegisterForKeys( SampleApp_TaskID );
   \   0000C8                ; Setup parameters for call to function RegisterForKeys
   \   0000C8   90....       MOV     DPTR,#SampleApp_TaskID
   \   0000CB   E0           MOVX    A,@DPTR
   \   0000CC   F9           MOV     R1,A
   \   0000CD   12....       LCALL   ??RegisterForKeys?relay
    245          
    246            // By default, all devices start out in Group 1
    247            SampleApp_Group.ID = 0x0001;
   \   0000D0   90....       MOV     DPTR,#SampleApp_Group
   \   0000D3   7401         MOV     A,#0x1
   \   0000D5   F0           MOVX    @DPTR,A
   \   0000D6   A3           INC     DPTR
   \   0000D7   E4           CLR     A
   \   0000D8   F0           MOVX    @DPTR,A
    248            osal_memcpy( SampleApp_Group.name, "Group 1", 7  );
   \   0000D9                ; Setup parameters for call to function osal_memcpy
   \   0000D9   75....       MOV     ?V0 + 0,#`?<Constant "Group 1">` & 0xff
   \   0000DC   75....       MOV     ?V0 + 1,#(`?<Constant "Group 1">` >> 8) & 0xff
   \   0000DF   F5..         MOV     ?V0 + 2,A
   \   0000E1   78..         MOV     R0,#?V0 + 0
   \   0000E3   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000E6   7C07         MOV     R4,#0x7
   \   0000E8   7D00         MOV     R5,#0x0
   \   0000EA   7A..         MOV     R2,#(SampleApp_Group + 2) & 0xff
   \   0000EC   7B..         MOV     R3,#((SampleApp_Group + 2) >> 8) & 0xff
   \   0000EE   12....       LCALL   ??osal_memcpy?relay
   \   0000F1   7403         MOV     A,#0x3
   \   0000F3   12....       LCALL   ?DEALLOC_XSTACK8
    249            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
   \   0000F6                ; Setup parameters for call to function aps_AddGroup
   \   0000F6   7A..         MOV     R2,#SampleApp_Group & 0xff
   \   0000F8   7B..         MOV     R3,#(SampleApp_Group >> 8) & 0xff
   \   0000FA   7914         MOV     R1,#0x14
   \   0000FC   12....       LCALL   ??aps_AddGroup?relay
    250          
    251          #if defined ( LCD_SUPPORTED )
    252            HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 );
   \   0000FF                ; Setup parameters for call to function HalLcdWriteString
   \   0000FF   7901         MOV     R1,#0x1
   \   000101   7A..         MOV     R2,#`?<Constant "SampleApp">` & 0xff
   \   000103   7B..         MOV     R3,#(`?<Constant "SampleApp">` >> 8) & 0xff
   \   000105   12....       LCALL   ??HalLcdWriteString?relay
    253          #endif
    254          }
   \   000108   7401         MOV     A,#0x1
   \   00010A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00010D   7F03         MOV     R7,#0x3
   \   00010F   02....       LJMP    ?BANKED_LEAVE_XDATA
    255          
    256          /*********************************************************************
    257           * @fn      SampleApp_ProcessEvent
    258           *
    259           * @brief   Generic Application Task event processor.  This function
    260           *          is called to process all events for the task.  Events
    261           *          include timers, messages and any other user defined events.
    262           *
    263           * @param   task_id  - The OSAL assigned task ID.
    264           * @param   events - events to process.  This is a bit map and can
    265           *                   contain more than one event.
    266           *
    267           * @return  none
    268           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    269          uint16 SampleApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     SampleApp_ProcessEvent:
    270          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    271            afIncomingMSGPacket_t *MSGpkt;
    272            (void)task_id;  // Intentionally unreferenced parameter
    273          
    274            if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL     A,#0x80
   \   00000B   606F         JZ      ??SampleApp_ProcessEvent_0
    275            {
    276              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00000D                ; Setup parameters for call to function osal_msg_receive
   \   00000D   8021         SJMP    ??SampleApp_ProcessEvent_1
    277              while ( MSGpkt )
    278              {
    279                switch ( MSGpkt->hdr.event )
    280                {
    281                  case CMD_SERIAL_MSG:  //串口收到数据后由MT_UART层传递过来的数据，用网蜂方法接收，编译时不定义MT相关内容 
    282                   SampleApp_SerialCMD((mtOSALSerialData_t *)MSGpkt);
    283                   break;
    284          
    285                  // Received when a key is pressed
    286                    case KEY_CHANGE:
    287                    SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    288                    break;
    289          
    290                  // Received when a messages is received (OTA) for this endpoint
    291                  case AF_INCOMING_MSG_CMD:
    292                    SampleApp_MessageMSGCB( MSGpkt );
    293                    break;
    294          
    295                  // Received whenever the device changes state in the network
    296                  case ZDO_STATE_CHANGE:
    297                    SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
   \                     ??SampleApp_ProcessEvent_2:
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   90....       MOV     DPTR,#SampleApp_NwkState
   \   000014   F0           MOVX    @DPTR,A
    298                    if (
    299                        SampleApp_NwkState == DEV_END_DEVICE )
   \   000015   6406         XRL     A,#0x6
   \   000017   7010         JNZ     ??SampleApp_ProcessEvent_3
    300                    {
    301                      // Start sending the periodic message in a regular interval.
    302                      osal_start_timerEx( SampleApp_TaskID,
    303                                        SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    304                                        SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
   \   000019                ; Setup parameters for call to function osal_start_timerEx
   \   000019   7C88         MOV     R4,#-0x78
   \   00001B   7D13         MOV     R5,#0x13
   \   00001D   7A01         MOV     R2,#0x1
   \   00001F   7B00         MOV     R3,#0x0
   \   000021   90....       MOV     DPTR,#SampleApp_TaskID
   \   000024   E0           MOVX    A,@DPTR
   \   000025   F9           MOV     R1,A
   \   000026   12....       LCALL   ??osal_start_timerEx?relay
    305                    }
    306                    else
    307                    {
    308                      // Device is no longer in the network
    309                    }
    310                    break;
    311          
    312                  default:
    313                    break;
    314                }
    315          
    316                // Release the memory
    317                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??SampleApp_ProcessEvent_3:
   \   000029                ; Setup parameters for call to function osal_msg_deallocate
   \   000029   AA..         MOV     R2,?V0 + 0
   \   00002B   AB..         MOV     R3,?V0 + 1
   \   00002D   12....       LCALL   ??osal_msg_deallocate?relay
    318          
    319                // Next - if one is available
    320                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   000030                ; Setup parameters for call to function osal_msg_receive
   \                     ??SampleApp_ProcessEvent_1:
   \   000030   90....       MOV     DPTR,#SampleApp_TaskID
   \   000033   E0           MOVX    A,@DPTR
   \   000034   F9           MOV     R1,A
   \   000035   12....       LCALL   ??osal_msg_receive?relay
   \   000038   8A..         MOV     ?V0 + 0,R2
   \   00003A   8B..         MOV     ?V0 + 1,R3
   \   00003C   E5..         MOV     A,?V0 + 0
   \   00003E   45..         ORL     A,?V0 + 1
   \   000040   6032         JZ      ??SampleApp_ProcessEvent_4
   \   000042   85..82       MOV     DPL,?V0 + 0
   \   000045   85..83       MOV     DPH,?V0 + 1
   \   000048   E0           MOVX    A,@DPTR
   \   000049   24E6         ADD     A,#-0x1a
   \   00004B   601E         JZ      ??SampleApp_ProcessEvent_5
   \   00004D   245A         ADD     A,#0x5a
   \   00004F   6006         JZ      ??SampleApp_ProcessEvent_6
   \   000051   24EF         ADD     A,#-0x11
   \   000053   60BA         JZ      ??SampleApp_ProcessEvent_2
   \   000055   80D2         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_6:
   \   000057                ; Setup parameters for call to function SampleApp_HandleKeys
   \   000057   A3           INC     DPTR
   \   000058   A3           INC     DPTR
   \   000059   A3           INC     DPTR
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   FA           MOV     R2,A
   \   00005C   85..82       MOV     DPL,?V0 + 0
   \   00005F   85..83       MOV     DPH,?V0 + 1
   \   000062   A3           INC     DPTR
   \   000063   A3           INC     DPTR
   \   000064   E0           MOVX    A,@DPTR
   \   000065   F9           MOV     R1,A
   \   000066   12....       LCALL   ??SampleApp_HandleKeys?relay
   \   000069   80BE         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_5:
   \   00006B                ; Setup parameters for call to function SampleApp_MessageMSGCB
   \   00006B   AA..         MOV     R2,?V0 + 0
   \   00006D   AB..         MOV     R3,?V0 + 1
   \   00006F   12....       LCALL   ??SampleApp_MessageMSGCB?relay
   \   000072   80B5         SJMP    ??SampleApp_ProcessEvent_3
    321              }
    322          
    323              // return unprocessed events
    324              return (events ^ SYS_EVENT_MSG);
   \                     ??SampleApp_ProcessEvent_4:
   \   000074   EE           MOV     A,R6
   \   000075   FA           MOV     R2,A
   \   000076   EF           MOV     A,R7
   \   000077   6480         XRL     A,#0x80
   \                     ??SampleApp_ProcessEvent_7:
   \   000079   FB           MOV     R3,A
   \   00007A   802A         SJMP    ??SampleApp_ProcessEvent_8
    325            }
    326          
    327            // Send a message out - This event is generated by a timer
    328            //  (setup in SampleApp_Init()).
    329            if ( events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT )
   \                     ??SampleApp_ProcessEvent_0:
   \   00007C   EE           MOV     A,R6
   \   00007D   A2E0         MOV     C,0xE0 /* A   */.0
   \   00007F   5021         JNC     ??SampleApp_ProcessEvent_9
    330            {
    331              // Send the periodic message
    332              SampleApp_SendPeriodicMessage();
   \   000081                ; Setup parameters for call to function SampleApp_SendPeriodicMessage
   \   000081   12....       LCALL   ??SampleApp_SendPeriodicMessage?relay
    333          
    334              // Setup to send message again in normal period (+ a little jitter)
    335              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    336                  (SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT + (osal_rand() & 0x00FF)) );
   \   000084                ; Setup parameters for call to function osal_rand
   \   000084   12....       LCALL   ??osal_rand?relay
   \   000087                ; Setup parameters for call to function osal_start_timerEx
   \   000087   EA           MOV     A,R2
   \   000088   2488         ADD     A,#-0x78
   \   00008A   FC           MOV     R4,A
   \   00008B   E4           CLR     A
   \   00008C   3413         ADDC    A,#0x13
   \   00008E   FD           MOV     R5,A
   \   00008F   7A01         MOV     R2,#0x1
   \   000091   7B00         MOV     R3,#0x0
   \   000093   90....       MOV     DPTR,#SampleApp_TaskID
   \   000096   E0           MOVX    A,@DPTR
   \   000097   F9           MOV     R1,A
   \   000098   12....       LCALL   ??osal_start_timerEx?relay
    337          
    338              // return unprocessed events
    339              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
   \   00009B   EE           MOV     A,R6
   \   00009C   6401         XRL     A,#0x1
   \   00009E   FA           MOV     R2,A
   \   00009F   EF           MOV     A,R7
   \   0000A0   80D7         SJMP    ??SampleApp_ProcessEvent_7
    340            }
    341          
    342            // Discard unknown events
    343            return 0;
   \                     ??SampleApp_ProcessEvent_9:
   \   0000A2   7A00         MOV     R2,#0x0
   \   0000A4   7B00         MOV     R3,#0x0
   \                     ??SampleApp_ProcessEvent_8:
   \   0000A6   7F04         MOV     R7,#0x4
   \   0000A8   02....       LJMP    ?BANKED_LEAVE_XDATA
    344          }
    345          
    346          /*********************************************************************
    347           * Event Generation Functions
    348           */
    349          /*********************************************************************
    350           * @fn      SampleApp_HandleKeys
    351           *
    352           * @brief   Handles all key events for this device.
    353           *
    354           * @param   shift - true if in shift/alt.
    355           * @param   keys - bit field for key events. Valid entries:
    356           *                 HAL_KEY_SW_2
    357           *                 HAL_KEY_SW_1
    358           *
    359           * @return  none
    360           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    361          void SampleApp_HandleKeys( uint8 shift, uint8 keys )
   \                     SampleApp_HandleKeys:
    362          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
    363            (void)shift;  // Intentionally unreferenced parameter
    364            
    365            if ( keys & HAL_KEY_SW_1 )
   \   000007   A2E0         MOV     C,0xE0 /* A   */.0
   \   000009   5007         JNC     ??SampleApp_HandleKeys_0
    366            {
    367              /* This key sends the Flash Command is sent to Group 1.
    368               * This device will not receive the Flash Command from this
    369               * device (even if it belongs to group 1).
    370               */
    371              SampleApp_SendFlashMessage( SAMPLEAPP_FLASH_DURATION );
   \   00000B                ; Setup parameters for call to function SampleApp_SendFlashMessage
   \   00000B   7AE8         MOV     R2,#-0x18
   \   00000D   7B03         MOV     R3,#0x3
   \   00000F   12....       LCALL   ??SampleApp_SendFlashMessage?relay
    372            }
    373          
    374            if ( keys & HAL_KEY_SW_2 )
   \                     ??SampleApp_HandleKeys_0:
   \   000012   EE           MOV     A,R6
   \   000013   A2E1         MOV     C,0xE0 /* A   */.1
   \   000015   5024         JNC     ??SampleApp_HandleKeys_1
    375            {
    376              /* The Flashr Command is sent to Group 1.
    377               * This key toggles this device in and out of group 1.
    378               * If this device doesn't belong to group 1, this application
    379               * will not receive the Flash command sent to group 1.
    380               */
    381              aps_Group_t *grp;
    382              grp = aps_FindGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
    383              if ( grp )
   \   000017                ; Setup parameters for call to function aps_FindGroup
   \   000017   7A01         MOV     R2,#0x1
   \   000019   7B00         MOV     R3,#0x0
   \   00001B   7914         MOV     R1,#0x14
   \   00001D   12....       LCALL   ??aps_FindGroup?relay
   \   000020   8B..         MOV     ?V0 + 1,R3
   \   000022   EA           MOV     A,R2
   \   000023   45..         ORL     A,?V0 + 1
   \   000025   600B         JZ      ??SampleApp_HandleKeys_2
    384              {
    385                // Remove from the group
    386                aps_RemoveGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
   \   000027                ; Setup parameters for call to function aps_RemoveGroup
   \   000027   7A01         MOV     R2,#0x1
   \   000029   7B00         MOV     R3,#0x0
   \   00002B   7914         MOV     R1,#0x14
   \   00002D   12....       LCALL   ??aps_RemoveGroup?relay
   \   000030   8009         SJMP    ??SampleApp_HandleKeys_1
    387              }
    388              else
    389              {
    390                // Add to the flash group
    391                aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
   \                     ??SampleApp_HandleKeys_2:
   \   000032                ; Setup parameters for call to function aps_AddGroup
   \   000032   7A..         MOV     R2,#SampleApp_Group & 0xff
   \   000034   7B..         MOV     R3,#(SampleApp_Group >> 8) & 0xff
   \   000036   7914         MOV     R1,#0x14
   \   000038   12....       LCALL   ??aps_AddGroup?relay
    392              }
    393            }
    394          }
   \                     ??SampleApp_HandleKeys_1:
   \   00003B   02....       LJMP    ??Subroutine7_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine7_0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    395          
    396          /*********************************************************************
    397           * LOCAL FUNCTIONS
    398           */
    399          
    400          /*********************************************************************
    401           * @fn      SampleApp_MessageMSGCB
    402           *
    403           * @brief   Data message processor callback.  This function processes
    404           *          any incoming data - probably from other devices.  So, based
    405           *          on cluster ID, perform the intended action.
    406           *
    407           * @param   none
    408           *
    409           * @return  none
    410           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    411          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     SampleApp_MessageMSGCB:
    412          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 54
   \   000005   74CA         MOV     A,#-0x36
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    413            static uint8 databuf[2][3]={0};
    414            static uint8 j=0;
    415            uint8 x,y,flag=0x5a,flag1=0x3c;
   \   00000E   7409         MOV     A,#0x9
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   745A         MOV     A,#0x5a
   \   000015   F0           MOVX    @DPTR,A
   \   000016   7408         MOV     A,#0x8
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   743C         MOV     A,#0x3c
   \   00001D   F0           MOVX    @DPTR,A
    416            uint8 X[3],Y[2];
                         ^
Warning[Pe550]: variable "X" was set but never used
    417            float D0,D1,D2,D3,location[2]={0},X0,Y0,X1,Y1,X2,Y2,X3,Y3;
                                  ^
Warning[Pe177]: variable "D3" was declared but never referenced

    float D0,D1,D2,D3,location[2]={0},X0,Y0,X1,Y1,X2,Y2,X3,Y3;
                                                        ^
"E:\ZIGBEE\串口透传(RSSI) (115200）\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",417  Warning[Pe177]: 
          variable "X3" was declared but never referenced

    float D0,D1,D2,D3,location[2]={0},X0,Y0,X1,Y1,X2,Y2,X3,Y3;
                                                           ^
"E:\ZIGBEE\串口透传(RSSI) (115200）\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",417  Warning[Pe177]: 
          variable "Y3" was declared but never referenced
   \   00001E   742E         MOV     A,#0x2e
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   AC82         MOV     R4,DPL
   \   000025   AD83         MOV     R5,DPH
   \   000027   7583..       MOV     DPH,#(`?<Constant {(0.0F)}>` >> 8) & 0xff
   \   00002A   7582..       MOV     DPL,#`?<Constant {(0.0F)}>` & 0xff
   \   00002D   7408         MOV     A,#0x8
   \   00002F   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    418            
    419            switch ( pkt->clusterId )
   \   000032   8E82         MOV     DPL,R6
   \   000034   8F83         MOV     DPH,R7
   \   000036   A3           INC     DPTR
   \   000037   A3           INC     DPTR
   \   000038   A3           INC     DPTR
   \   000039   A3           INC     DPTR
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   F5..         MOV     ?V0 + 8,A
   \   00003D   A3           INC     DPTR
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   F5..         MOV     ?V0 + 9,A
   \   000041   78..         MOV     R0,#?V0 + 8
   \   000043   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_MessageMSGCB>_0`:
   \   000046   0100         DW        1
   \   000048   02           DB        2
   \   000049   ....         DW        ??SampleApp_MessageMSGCB_0
   \   00004B   ....         DW        ??SampleApp_MessageMSGCB_1
   \   00004D   ....         DW        ??SampleApp_MessageMSGCB_0
   \   00004F   ....         DW        ??SampleApp_MessageMSGCB_2
    420            {
    421             case SAMPLEAPP_PTP_CLUSTERID:
    422               if(databuf[0][2]==0)
   \                     ??SampleApp_MessageMSGCB_2:
   \   000051   90....       MOV     DPTR,#??databuf + 2
   \   000054   E0           MOVX    A,@DPTR
   \   000055   7041         JNZ     ??SampleApp_MessageMSGCB_3
    423               {
    424                 databuf[0][j]=pkt->cmd.Data[0];
   \   000057   90....       MOV     DPTR,#??j
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   F8           MOV     R0,A
   \   00005C   EE           MOV     A,R6
   \   00005D   2422         ADD     A,#0x22
   \   00005F   12....       LCALL   ??Subroutine5_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   000062   FA           MOV     R2,A
   \   000063   A3           INC     DPTR
   \   000064   E0           MOVX    A,@DPTR
   \   000065   F583         MOV     DPH,A
   \   000067   8A82         MOV     DPL,R2
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   C0E0         PUSH    A
   \   00006C   74..         MOV     A,#??databuf & 0xff
   \   00006E   28           ADD     A,R0
   \   00006F   F582         MOV     DPL,A
   \   000071   74..         MOV     A,#(??databuf >> 8) & 0xff
   \   000073   3400         ADDC    A,#0x0
   \   000075   F583         MOV     DPH,A
   \   000077   D0E0         POP     A
   \   000079   F0           MOVX    @DPTR,A
    425                 databuf[1][j]=0xff-pkt->rssi;
   \   00007A   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   00007D   FA           MOV     R2,A
   \   00007E   74FF         MOV     A,#-0x1
   \   000080   C3           CLR     C
   \   000081   9A           SUBB    A,R2
   \   000082   C0E0         PUSH    A
   \   000084   74..         MOV     A,#(??databuf + 3) & 0xff
   \   000086   28           ADD     A,R0
   \   000087   F582         MOV     DPL,A
   \   000089   74..         MOV     A,#((??databuf + 3) >> 8) & 0xff
   \   00008B   3400         ADDC    A,#0x0
   \   00008D   F583         MOV     DPH,A
   \   00008F   D0E0         POP     A
   \   000091   F0           MOVX    @DPTR,A
    426                 j++;
   \   000092   90....       MOV     DPTR,#??j
   \   000095   E0           MOVX    A,@DPTR
   \   000096   04           INC     A
   \   000097   F0           MOVX    @DPTR,A
    427               }
    428               if(j==3){
   \                     ??SampleApp_MessageMSGCB_3:
   \   000098   90....       MOV     DPTR,#??j
   \   00009B   E0           MOVX    A,@DPTR
   \   00009C   6403         XRL     A,#0x3
   \   00009E   6003         JZ      $+5
   \   0000A0   02....       LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
    429                 if((databuf[0][0]!=databuf[0][1])&&(databuf[0][0]!=databuf[0][2])&&(databuf[0][1]!=databuf[0][2]))
   \   0000A3   90....       MOV     DPTR,#??databuf
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   F8           MOV     R0,A
   \   0000A8   A3           INC     DPTR
   \   0000A9   E0           MOVX    A,@DPTR
   \   0000AA   68           XRL     A,R0
   \   0000AB   7003         JNZ     $+5
   \   0000AD   02....       LJMP    ??SampleApp_MessageMSGCB_4 & 0xFFFF
   \   0000B0   90....       MOV     DPTR,#??databuf + 2
   \   0000B3   E0           MOVX    A,@DPTR
   \   0000B4   68           XRL     A,R0
   \   0000B5   7003         JNZ     $+5
   \   0000B7   02....       LJMP    ??SampleApp_MessageMSGCB_4 & 0xFFFF
   \   0000BA   90....       MOV     DPTR,#??databuf + 1
   \   0000BD   E0           MOVX    A,@DPTR
   \   0000BE   F8           MOV     R0,A
   \   0000BF   A3           INC     DPTR
   \   0000C0   E0           MOVX    A,@DPTR
   \   0000C1   68           XRL     A,R0
   \   0000C2   7003         JNZ     $+5
   \   0000C4   02....       LJMP    ??SampleApp_MessageMSGCB_4 & 0xFFFF
    430                 {
    431                   
    432                 for(x=0;x<3;x++)
   \   0000C7   7E00         MOV     R6,#0x0
    433                 {
    434                   switch (databuf[0][x])
   \                     ??SampleApp_MessageMSGCB_5:
   \   0000C9   8E..         MOV     ?V0 + 8,R6
   \   0000CB   74..         MOV     A,#??databuf & 0xff
   \   0000CD   25..         ADD     A,?V0 + 8
   \   0000CF   F582         MOV     DPL,A
   \   0000D1   74..         MOV     A,#(??databuf >> 8) & 0xff
   \   0000D3   12....       LCALL   ??Subroutine6_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   0000D6   14           DEC     A
   \   0000D7   600C         JZ      ??SampleApp_MessageMSGCB_6
   \   0000D9   14           DEC     A
   \   0000DA   6055         JZ      ??SampleApp_MessageMSGCB_7
   \   0000DC   14           DEC     A
   \   0000DD   7003         JNZ     $+5
   \   0000DF   02....       LJMP    ??SampleApp_MessageMSGCB_8 & 0xFFFF
   \   0000E2   02....       LJMP    ??SampleApp_MessageMSGCB_9 & 0xFFFF
    435                   {
    436                     //case 0x01: X0=0;Y0=0;D0=pow(10,(databuf[1][x]-44)/54.0);break;
    437                     //case 0x02: X1=0;Y1=2;D1=pow(10,(databuf[1][x]-44)/54.0);break;
    438                     //case 0x03: X2=2;Y2=2;D2=pow(10,(databuf[1][x]-44)/54.0);break;
    439                     case 0x01: X0=0.0;Y0=0.0;D0=pow(10,(databuf[1][x]-42)/30.5);break;
   \                     ??SampleApp_MessageMSGCB_6:
   \   0000E5   90....       MOV     DPTR,#__Constant_0
   \   0000E8   12....       LCALL   ?XLOAD_R2345
   \   0000EB   741E         MOV     A,#0x1e
   \   0000ED   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F0   12....       LCALL   ?XSTORE_R2345
   \   0000F3   90....       MOV     DPTR,#__Constant_0
   \   0000F6   12....       LCALL   ?XLOAD_R2345
   \   0000F9   741A         MOV     A,#0x1a
   \   0000FB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000FE   12....       LCALL   ?XSTORE_R2345
   \   000101                ; Setup parameters for call to function pow
   \   000101   12....       LCALL   ?Subroutine1 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   000104   12....       LCALL   ?L_TO_FLT
   \   000107   90....       MOV     DPTR,#__Constant_41f40000
   \   00010A   78..         MOV     R0,#?V0 + 8
   \   00010C   12....       LCALL   ?L_MOV_X
   \   00010F   78..         MOV     R0,#?V0 + 12
   \   000111   79..         MOV     R1,#?V0 + 8
   \   000113   12....       LCALL   ?FLT_DIV
   \   000116   78..         MOV     R0,#?V0 + 12
   \   000118   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   00011B   90....       MOV     DPTR,#__Constant_41200000
   \   00011E   12....       LCALL   ?XLOAD_R2345
   \   000121   12....       LCALL   ??pow?relay
   \   000124   7404         MOV     A,#0x4
   \   000126   12....       LCALL   ?DEALLOC_XSTACK8
   \   000129   740A         MOV     A,#0xa
   \                     ??SampleApp_MessageMSGCB_10:
   \   00012B   12....       LCALL   ?XSTACK_DISP0_8
   \   00012E   02....       LJMP    ??SampleApp_MessageMSGCB_11 & 0xFFFF
    440                     case 0x02: X1=0.0;Y1=2.0;D1=pow(10,(databuf[1][x]-40)/27.8);break;
   \                     ??SampleApp_MessageMSGCB_7:
   \   000131   90....       MOV     DPTR,#__Constant_0
   \   000134   78..         MOV     R0,#?V0 + 0
   \   000136   12....       LCALL   ?L_MOV_X
   \   000139   90....       MOV     DPTR,#__Constant_40000000
   \   00013C   12....       LCALL   ?XLOAD_R2345
   \   00013F   7416         MOV     A,#0x16
   \   000141   12....       LCALL   ?XSTACK_DISP0_8
   \   000144   12....       LCALL   ?XSTORE_R2345
   \   000147                ; Setup parameters for call to function pow
   \   000147   74..         MOV     A,#(??databuf + 3) & 0xff
   \   000149   25..         ADD     A,?V0 + 8
   \   00014B   F582         MOV     DPL,A
   \   00014D   74..         MOV     A,#((??databuf + 3) >> 8) & 0xff
   \   00014F   12....       LCALL   ??Subroutine6_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   000152   24D8         ADD     A,#-0x28
   \   000154   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_4:
   \   000157   12....       LCALL   ?L_TO_FLT
   \   00015A   90....       MOV     DPTR,#__Constant_41de6666
   \   00015D   78..         MOV     R0,#?V0 + 8
   \   00015F   12....       LCALL   ?L_MOV_X
   \   000162   78..         MOV     R0,#?V0 + 12
   \   000164   79..         MOV     R1,#?V0 + 8
   \   000166   12....       LCALL   ?FLT_DIV
   \   000169   78..         MOV     R0,#?V0 + 12
   \   00016B   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   00016E   90....       MOV     DPTR,#__Constant_41200000
   \   000171   12....       LCALL   ?XLOAD_R2345
   \   000174   12....       LCALL   ??pow?relay
   \   000177   7404         MOV     A,#0x4
   \   000179   12....       LCALL   ?DEALLOC_XSTACK8
   \   00017C   740E         MOV     A,#0xe
   \   00017E   80AB         SJMP    ??SampleApp_MessageMSGCB_10
    441                     case 0x03: X2=2.0;Y2=2.0;D2=pow(10,(databuf[1][x]-42)/33.3);break;
   \                     ??SampleApp_MessageMSGCB_8:
   \   000180   90....       MOV     DPTR,#__Constant_40000000
   \   000183   12....       LCALL   ?XLOAD_R2345
   \   000186   7412         MOV     A,#0x12
   \   000188   12....       LCALL   ?XSTACK_DISP0_8
   \   00018B   12....       LCALL   ?XSTORE_R2345
   \   00018E   90....       MOV     DPTR,#__Constant_40000000
   \   000191   78..         MOV     R0,#?V0 + 4
   \   000193   12....       LCALL   ?L_MOV_X
   \   000196                ; Setup parameters for call to function pow
   \   000196   12....       LCALL   ?Subroutine1 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   000199   12....       LCALL   ?L_TO_FLT
   \   00019C   90....       MOV     DPTR,#__Constant_42053333
   \   00019F   78..         MOV     R0,#?V0 + 8
   \   0001A1   12....       LCALL   ?L_MOV_X
   \   0001A4   78..         MOV     R0,#?V0 + 12
   \   0001A6   79..         MOV     R1,#?V0 + 8
   \   0001A8   12....       LCALL   ?FLT_DIV
   \   0001AB   78..         MOV     R0,#?V0 + 12
   \   0001AD   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0001B0   90....       MOV     DPTR,#__Constant_41200000
   \   0001B3   12....       LCALL   ?XLOAD_R2345
   \   0001B6   12....       LCALL   ??pow?relay
   \   0001B9   7404         MOV     A,#0x4
   \   0001BB   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001BE   85..82       MOV     DPL,?XSP + 0
   \   0001C1   85..83       MOV     DPH,?XSP + 1
   \                     ??SampleApp_MessageMSGCB_11:
   \   0001C4   12....       LCALL   ?XSTORE_R2345
    442                   }
    443                 }
   \                     ??SampleApp_MessageMSGCB_9:
   \   0001C7   0E           INC     R6
   \   0001C8   EE           MOV     A,R6
   \   0001C9   C3           CLR     C
   \   0001CA   9403         SUBB    A,#0x3
   \   0001CC   5003         JNC     $+5
   \   0001CE   02....       LJMP    ??SampleApp_MessageMSGCB_5 & 0xFFFF
    444                 X[0]=(uint8)(D0*50);
    445                 X[1]=(uint8)(D1*50);
    446                 X[2]=(uint8)(D2*50);
    447                // for(x=0;x<3;x++)
    448                // {
    449                //  HalUARTWrite(0,&databuf[0][x],1);//发给PC机
    450                // HalUARTWrite(0,&databuf[1][x],1);//发给PC机
    451                 // HalUARTWrite(0,&X[x],1);//发给PC机
    452               // }
    453                 location[0]=((Y1-Y2)*(X0*X0-X2*X2+Y0*Y0-Y2*Y2-D0*D0+D2*D2)+(Y2-Y0)*(X1*X1-X2*X2+Y1*Y1-Y2*Y2-D1*D1+D2*D2))/(2*(X0-X2)*(Y1-Y2)-2*(X1-X2)*(Y0-Y2));
   \   0001D1   85..82       MOV     DPL,?XSP + 0
   \   0001D4   85..83       MOV     DPH,?XSP + 1
   \   0001D7   78..         MOV     R0,#?V0 + 8
   \   0001D9   12....       LCALL   ?L_MOV_X
   \   0001DC   85..82       MOV     DPL,?XSP + 0
   \   0001DF   85..83       MOV     DPH,?XSP + 1
   \   0001E2   78..         MOV     R0,#?V0 + 12
   \   0001E4   12....       LCALL   ?L_MOV_X
   \   0001E7   78..         MOV     R0,#?V0 + 8
   \   0001E9   79..         MOV     R1,#?V0 + 12
   \   0001EB   12....       LCALL   ?FLT_MUL
   \   0001EE   742A         MOV     A,#0x2a
   \   0001F0   12....       LCALL   ?XSTACK_DISP0_8
   \   0001F3   78..         MOV     R0,#?V0 + 8
   \   0001F5   12....       LCALL   ?L_MOV_TO_X
   \   0001F8   85....       MOV     ?V0 + 8,?V0 + 4
   \   0001FB   85....       MOV     ?V0 + 9,?V0 + 5
   \   0001FE   85....       MOV     ?V0 + 10,?V0 + 6
   \   000201   85....       MOV     ?V0 + 11,?V0 + 7
   \   000204   78..         MOV     R0,#?V0 + 8
   \   000206   79..         MOV     R1,#?V0 + 4
   \   000208   12....       LCALL   ?FLT_MUL
   \   00020B   85..82       MOV     DPL,?XSP + 0
   \   00020E   85..83       MOV     DPH,?XSP + 1
   \   000211   78..         MOV     R0,#?V0 + 8
   \   000213   12....       LCALL   ?L_MOV_TO_X
   \   000216   7412         MOV     A,#0x12
   \   000218   12....       LCALL   ?XSTACK_DISP0_8
   \   00021B   78..         MOV     R0,#?V0 + 8
   \   00021D   12....       LCALL   ?L_MOV_X
   \   000220   7412         MOV     A,#0x12
   \   000222   12....       LCALL   ?XSTACK_DISP0_8
   \   000225   78..         MOV     R0,#?V0 + 12
   \   000227   12....       LCALL   ?L_MOV_X
   \   00022A   78..         MOV     R0,#?V0 + 8
   \   00022C   79..         MOV     R1,#?V0 + 12
   \   00022E   12....       LCALL   ?FLT_MUL
   \   000231   7426         MOV     A,#0x26
   \   000233   12....       LCALL   ?XSTACK_DISP0_8
   \   000236   78..         MOV     R0,#?V0 + 8
   \   000238   12....       LCALL   ?L_MOV_TO_X
   \   00023B   85....       MOV     ?V0 + 8,?V0 + 0
   \   00023E   85....       MOV     ?V0 + 9,?V0 + 1
   \   000241   85....       MOV     ?V0 + 10,?V0 + 2
   \   000244   85....       MOV     ?V0 + 11,?V0 + 3
   \   000247   78..         MOV     R0,#?V0 + 8
   \   000249   79..         MOV     R1,#?V0 + 0
   \   00024B   12....       LCALL   ?FLT_MUL
   \   00024E   7426         MOV     A,#0x26
   \   000250   12....       LCALL   ?XSTACK_DISP0_8
   \   000253   78..         MOV     R0,#?V0 + 12
   \   000255   12....       LCALL   ?L_MOV_X
   \   000258   78..         MOV     R0,#?V0 + 8
   \   00025A   79..         MOV     R1,#?V0 + 12
   \   00025C   12....       LCALL   ?FLT_SUB
   \   00025F   C0..         PUSH    ?V0 + 8
   \   000261   C0..         PUSH    ?V0 + 9
   \   000263   C0..         PUSH    ?V0 + 10
   \   000265   C0..         PUSH    ?V0 + 11
   \   000267   7416         MOV     A,#0x16
   \   000269   12....       LCALL   ?XSTACK_DISP0_8
   \   00026C   78..         MOV     R0,#?V0 + 12
   \   00026E   12....       LCALL   ?L_MOV_X
   \   000271   7416         MOV     A,#0x16
   \   000273   12....       LCALL   ?XSTACK_DISP0_8
   \   000276   78..         MOV     R0,#?V0 + 8
   \   000278   12....       LCALL   ?L_MOV_X
   \   00027B   78..         MOV     R0,#?V0 + 12
   \   00027D   79..         MOV     R1,#?V0 + 8
   \   00027F   12....       LCALL   ?FLT_MUL
   \   000282   D0..         POP     ?V0 + 11
   \   000284   D0..         POP     ?V0 + 10
   \   000286   D0..         POP     ?V0 + 9
   \   000288   D0..         POP     ?V0 + 8
   \   00028A   78..         MOV     R0,#?V0 + 8
   \   00028C   79..         MOV     R1,#?V0 + 12
   \   00028E   12....       LCALL   ?FLT_ADD
   \   000291   85..82       MOV     DPL,?XSP + 0
   \   000294   85..83       MOV     DPH,?XSP + 1
   \   000297   78..         MOV     R0,#?V0 + 12
   \   000299   12....       LCALL   ?L_MOV_X
   \   00029C   78..         MOV     R0,#?V0 + 8
   \   00029E   79..         MOV     R1,#?V0 + 12
   \   0002A0   12....       LCALL   ?FLT_SUB
   \   0002A3   C0..         PUSH    ?V0 + 8
   \   0002A5   C0..         PUSH    ?V0 + 9
   \   0002A7   C0..         PUSH    ?V0 + 10
   \   0002A9   C0..         PUSH    ?V0 + 11
   \   0002AB   740E         MOV     A,#0xe
   \   0002AD   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B0   78..         MOV     R0,#?V0 + 12
   \   0002B2   12....       LCALL   ?L_MOV_X
   \   0002B5   740E         MOV     A,#0xe
   \   0002B7   12....       LCALL   ?XSTACK_DISP0_8
   \   0002BA   78..         MOV     R0,#?V0 + 8
   \   0002BC   12....       LCALL   ?L_MOV_X
   \   0002BF   78..         MOV     R0,#?V0 + 12
   \   0002C1   79..         MOV     R1,#?V0 + 8
   \   0002C3   12....       LCALL   ?FLT_MUL
   \   0002C6   D0..         POP     ?V0 + 11
   \   0002C8   D0..         POP     ?V0 + 10
   \   0002CA   D0..         POP     ?V0 + 9
   \   0002CC   D0..         POP     ?V0 + 8
   \   0002CE   78..         MOV     R0,#?V0 + 8
   \   0002D0   79..         MOV     R1,#?V0 + 12
   \   0002D2   12....       LCALL   ?FLT_SUB
   \   0002D5   742A         MOV     A,#0x2a
   \   0002D7   12....       LCALL   ?XSTACK_DISP0_8
   \   0002DA   78..         MOV     R0,#?V0 + 12
   \   0002DC   12....       LCALL   ?L_MOV_X
   \   0002DF   78..         MOV     R0,#?V0 + 8
   \   0002E1   79..         MOV     R1,#?V0 + 12
   \   0002E3   12....       LCALL   ?FLT_ADD
   \   0002E6   7422         MOV     A,#0x22
   \   0002E8   12....       LCALL   ?XSTACK_DISP0_8
   \   0002EB   78..         MOV     R0,#?V0 + 8
   \   0002ED   12....       LCALL   ?L_MOV_TO_X
   \   0002F0   741E         MOV     A,#0x1e
   \   0002F2   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F5   78..         MOV     R0,#?V0 + 8
   \   0002F7   12....       LCALL   ?L_MOV_X
   \   0002FA   741E         MOV     A,#0x1e
   \   0002FC   12....       LCALL   ?XSTACK_DISP0_8
   \   0002FF   78..         MOV     R0,#?V0 + 12
   \   000301   12....       LCALL   ?L_MOV_X
   \   000304   78..         MOV     R0,#?V0 + 8
   \   000306   79..         MOV     R1,#?V0 + 12
   \   000308   12....       LCALL   ?FLT_MUL
   \   00030B   7426         MOV     A,#0x26
   \   00030D   12....       LCALL   ?XSTACK_DISP0_8
   \   000310   78..         MOV     R0,#?V0 + 12
   \   000312   12....       LCALL   ?L_MOV_X
   \   000315   78..         MOV     R0,#?V0 + 8
   \   000317   79..         MOV     R1,#?V0 + 12
   \   000319   12....       LCALL   ?FLT_SUB
   \   00031C   C0..         PUSH    ?V0 + 8
   \   00031E   C0..         PUSH    ?V0 + 9
   \   000320   C0..         PUSH    ?V0 + 10
   \   000322   C0..         PUSH    ?V0 + 11
   \   000324   741A         MOV     A,#0x1a
   \   000326   12....       LCALL   ?XSTACK_DISP0_8
   \   000329   78..         MOV     R0,#?V0 + 12
   \   00032B   12....       LCALL   ?L_MOV_X
   \   00032E   741A         MOV     A,#0x1a
   \   000330   12....       LCALL   ?XSTACK_DISP0_8
   \   000333   78..         MOV     R0,#?V0 + 8
   \   000335   12....       LCALL   ?L_MOV_X
   \   000338   78..         MOV     R0,#?V0 + 12
   \   00033A   79..         MOV     R1,#?V0 + 8
   \   00033C   12....       LCALL   ?FLT_MUL
   \   00033F   D0..         POP     ?V0 + 11
   \   000341   D0..         POP     ?V0 + 10
   \   000343   D0..         POP     ?V0 + 9
   \   000345   D0..         POP     ?V0 + 8
   \   000347   78..         MOV     R0,#?V0 + 8
   \   000349   79..         MOV     R1,#?V0 + 12
   \   00034B   12....       LCALL   ?FLT_ADD
   \   00034E   85..82       MOV     DPL,?XSP + 0
   \   000351   85..83       MOV     DPH,?XSP + 1
   \   000354   78..         MOV     R0,#?V0 + 12
   \   000356   12....       LCALL   ?L_MOV_X
   \   000359   78..         MOV     R0,#?V0 + 8
   \   00035B   79..         MOV     R1,#?V0 + 12
   \   00035D   12....       LCALL   ?FLT_SUB
   \   000360   C0..         PUSH    ?V0 + 8
   \   000362   C0..         PUSH    ?V0 + 9
   \   000364   C0..         PUSH    ?V0 + 10
   \   000366   C0..         PUSH    ?V0 + 11
   \   000368   740A         MOV     A,#0xa
   \   00036A   12....       LCALL   ?XSTACK_DISP0_8
   \   00036D   78..         MOV     R0,#?V0 + 12
   \   00036F   12....       LCALL   ?L_MOV_X
   \   000372   740A         MOV     A,#0xa
   \   000374   12....       LCALL   ?XSTACK_DISP0_8
   \   000377   78..         MOV     R0,#?V0 + 8
   \   000379   12....       LCALL   ?L_MOV_X
   \   00037C   78..         MOV     R0,#?V0 + 12
   \   00037E   79..         MOV     R1,#?V0 + 8
   \   000380   12....       LCALL   ?FLT_MUL
   \   000383   D0..         POP     ?V0 + 11
   \   000385   D0..         POP     ?V0 + 10
   \   000387   D0..         POP     ?V0 + 9
   \   000389   D0..         POP     ?V0 + 8
   \   00038B   78..         MOV     R0,#?V0 + 8
   \   00038D   79..         MOV     R1,#?V0 + 12
   \   00038F   12....       LCALL   ?FLT_SUB
   \   000392   742A         MOV     A,#0x2a
   \   000394   12....       LCALL   ?XSTACK_DISP0_8
   \   000397   78..         MOV     R0,#?V0 + 12
   \   000399   12....       LCALL   ?L_MOV_X
   \   00039C   78..         MOV     R0,#?V0 + 8
   \   00039E   79..         MOV     R1,#?V0 + 12
   \   0003A0   12....       LCALL   ?FLT_ADD
   \   0003A3   740E         MOV     A,#0xe
   \   0003A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0003A8   78..         MOV     R0,#?V0 + 8
   \   0003AA   12....       LCALL   ?L_MOV_TO_X
   \   0003AD   741E         MOV     A,#0x1e
   \   0003AF   12....       LCALL   ?XSTACK_DISP0_8
   \   0003B2   78..         MOV     R0,#?V0 + 8
   \   0003B4   12....       LCALL   ?L_MOV_X
   \   0003B7   7412         MOV     A,#0x12
   \   0003B9   12....       LCALL   ?XSTACK_DISP0_8
   \   0003BC   78..         MOV     R0,#?V0 + 12
   \   0003BE   12....       LCALL   ?L_MOV_X
   \   0003C1   78..         MOV     R0,#?V0 + 8
   \   0003C3   79..         MOV     R1,#?V0 + 12
   \   0003C5   12....       LCALL   ?FLT_SUB
   \   0003C8   740A         MOV     A,#0xa
   \   0003CA   12....       LCALL   ?XSTACK_DISP0_8
   \   0003CD   78..         MOV     R0,#?V0 + 8
   \   0003CF   12....       LCALL   ?L_MOV_TO_X
   \   0003D2   85....       MOV     ?V0 + 8,?V0 + 4
   \   0003D5   85....       MOV     ?V0 + 9,?V0 + 5
   \   0003D8   85....       MOV     ?V0 + 10,?V0 + 6
   \   0003DB   85....       MOV     ?V0 + 11,?V0 + 7
   \   0003DE   741A         MOV     A,#0x1a
   \   0003E0   12....       LCALL   ?XSTACK_DISP0_8
   \   0003E3   78..         MOV     R0,#?V0 + 12
   \   0003E5   12....       LCALL   ?L_MOV_X
   \   0003E8   78..         MOV     R0,#?V0 + 8
   \   0003EA   79..         MOV     R1,#?V0 + 12
   \   0003EC   12....       LCALL   ?FLT_SUB
   \   0003EF   85..82       MOV     DPL,?XSP + 0
   \   0003F2   85..83       MOV     DPH,?XSP + 1
   \   0003F5   78..         MOV     R0,#?V0 + 8
   \   0003F7   12....       LCALL   ?L_MOV_TO_X
   \   0003FA   7416         MOV     A,#0x16
   \   0003FC   12....       LCALL   ?XSTACK_DISP0_8
   \   0003FF   78..         MOV     R0,#?V0 + 8
   \   000401   12....       LCALL   ?L_MOV_X
   \   000404   78..         MOV     R0,#?V0 + 8
   \   000406   79..         MOV     R1,#?V0 + 4
   \   000408   12....       LCALL   ?FLT_SUB
   \   00040B   740A         MOV     A,#0xa
   \   00040D   12....       LCALL   ?XSTACK_DISP0_8
   \   000410   78..         MOV     R0,#?V0 + 4
   \   000412   12....       LCALL   ?L_MOV_X
   \   000415   90....       MOV     DPTR,#__Constant_40000000
   \   000418   78..         MOV     R0,#?V0 + 12
   \   00041A   12....       LCALL   ?L_MOV_X
   \   00041D   78..         MOV     R0,#?V0 + 4
   \   00041F   79..         MOV     R1,#?V0 + 12
   \   000421   12....       LCALL   ?FLT_MUL
   \   000424   78..         MOV     R0,#?V0 + 4
   \   000426   79..         MOV     R1,#?V0 + 8
   \   000428   12....       LCALL   ?FLT_MUL
   \   00042B   C0..         PUSH    ?V0 + 4
   \   00042D   C0..         PUSH    ?V0 + 5
   \   00042F   C0..         PUSH    ?V0 + 6
   \   000431   C0..         PUSH    ?V0 + 7
   \   000433   85....       MOV     ?V0 + 4,?V0 + 0
   \   000436   85....       MOV     ?V0 + 5,?V0 + 1
   \   000439   85....       MOV     ?V0 + 6,?V0 + 2
   \   00043C   85....       MOV     ?V0 + 7,?V0 + 3
   \   00043F   7412         MOV     A,#0x12
   \   000441   12....       LCALL   ?XSTACK_DISP0_8
   \   000444   78..         MOV     R0,#?V0 + 12
   \   000446   12....       LCALL   ?L_MOV_X
   \   000449   78..         MOV     R0,#?V0 + 4
   \   00044B   79..         MOV     R1,#?V0 + 12
   \   00044D   12....       LCALL   ?FLT_SUB
   \   000450   90....       MOV     DPTR,#__Constant_40000000
   \   000453   78..         MOV     R0,#?V0 + 12
   \   000455   12....       LCALL   ?L_MOV_X
   \   000458   78..         MOV     R0,#?V0 + 4
   \   00045A   79..         MOV     R1,#?V0 + 12
   \   00045C   12....       LCALL   ?FLT_MUL
   \   00045F   85..82       MOV     DPL,?XSP + 0
   \   000462   85..83       MOV     DPH,?XSP + 1
   \   000465   78..         MOV     R0,#?V0 + 12
   \   000467   12....       LCALL   ?L_MOV_X
   \   00046A   78..         MOV     R0,#?V0 + 4
   \   00046C   79..         MOV     R1,#?V0 + 12
   \   00046E   12....       LCALL   ?FLT_MUL
   \   000471   D0..         POP     ?V0 + 15
   \   000473   D0..         POP     ?V0 + 14
   \   000475   D0..         POP     ?V0 + 13
   \   000477   D0..         POP     ?V0 + 12
   \   000479   78..         MOV     R0,#?V0 + 12
   \   00047B   79..         MOV     R1,#?V0 + 4
   \   00047D   12....       LCALL   ?FLT_ADD
   \   000480   85....       MOV     ?V0 + 4,?V0 + 12
   \   000483   85....       MOV     ?V0 + 5,?V0 + 13
   \   000486   85....       MOV     ?V0 + 6,?V0 + 14
   \   000489   85....       MOV     ?V0 + 7,?V0 + 15
   \   00048C   740E         MOV     A,#0xe
   \   00048E   12....       LCALL   ?XSTACK_DISP0_8
   \   000491   78..         MOV     R0,#?V0 + 12
   \   000493   12....       LCALL   ?L_MOV_X
   \   000496   78..         MOV     R0,#?V0 + 8
   \   000498   79..         MOV     R1,#?V0 + 12
   \   00049A   12....       LCALL   ?FLT_MUL
   \   00049D   C0..         PUSH    ?V0 + 8
   \   00049F   C0..         PUSH    ?V0 + 9
   \   0004A1   C0..         PUSH    ?V0 + 10
   \   0004A3   C0..         PUSH    ?V0 + 11
   \   0004A5   85..82       MOV     DPL,?XSP + 0
   \   0004A8   85..83       MOV     DPH,?XSP + 1
   \   0004AB   78..         MOV     R0,#?V0 + 12
   \   0004AD   12....       LCALL   ?L_MOV_X
   \   0004B0   7422         MOV     A,#0x22
   \   0004B2   12....       LCALL   ?XSTACK_DISP0_8
   \   0004B5   78..         MOV     R0,#?V0 + 8
   \   0004B7   12....       LCALL   ?L_MOV_X
   \   0004BA   78..         MOV     R0,#?V0 + 12
   \   0004BC   79..         MOV     R1,#?V0 + 8
   \   0004BE   12....       LCALL   ?FLT_MUL
   \   0004C1   D0..         POP     ?V0 + 11
   \   0004C3   D0..         POP     ?V0 + 10
   \   0004C5   D0..         POP     ?V0 + 9
   \   0004C7   D0..         POP     ?V0 + 8
   \   0004C9   78..         MOV     R0,#?V0 + 8
   \   0004CB   79..         MOV     R1,#?V0 + 12
   \   0004CD   12....       LCALL   ?FLT_ADD
   \   0004D0   78..         MOV     R0,#?V0 + 8
   \   0004D2   79..         MOV     R1,#?V0 + 4
   \   0004D4   12....       LCALL   ?FLT_DIV
   \   0004D7   742E         MOV     A,#0x2e
   \   0004D9   12....       LCALL   ?XSTACK_DISP0_8
   \   0004DC   78..         MOV     R0,#?V0 + 8
   \   0004DE   12....       LCALL   ?L_MOV_TO_X
    454                 location[1]=((X2-X1)*(X0*X0-X2*X2+Y0*Y0-Y2*Y2-D0*D0+D2*D2)+(X0-X2)*(X1*X1-X2*X2+Y1*Y1-Y2*Y2-D1*D1+D2*D2))/(2*(X0-X2)*(Y1-Y2)-2*(X1-X2)*(Y0-Y2));
   \   0004E1   7412         MOV     A,#0x12
   \   0004E3   12....       LCALL   ?XSTACK_DISP0_8
   \   0004E6   78..         MOV     R0,#?V0 + 8
   \   0004E8   12....       LCALL   ?L_MOV_X
   \   0004EB   78..         MOV     R0,#?V0 + 8
   \   0004ED   79..         MOV     R1,#?V0 + 0
   \   0004EF   12....       LCALL   ?FLT_SUB
   \   0004F2   740E         MOV     A,#0xe
   \   0004F4   12....       LCALL   ?XSTACK_DISP0_8
   \   0004F7   78..         MOV     R0,#?V0 + 0
   \   0004F9   12....       LCALL   ?L_MOV_X
   \   0004FC   78..         MOV     R0,#?V0 + 8
   \   0004FE   79..         MOV     R1,#?V0 + 0
   \   000500   12....       LCALL   ?FLT_MUL
   \   000503   740A         MOV     A,#0xa
   \   000505   12....       LCALL   ?XSTACK_DISP0_8
   \   000508   78..         MOV     R0,#?V0 + 0
   \   00050A   12....       LCALL   ?L_MOV_X
   \   00050D   7422         MOV     A,#0x22
   \   00050F   12....       LCALL   ?XSTACK_DISP0_8
   \   000512   78..         MOV     R0,#?V0 + 12
   \   000514   12....       LCALL   ?L_MOV_X
   \   000517   78..         MOV     R0,#?V0 + 0
   \   000519   79..         MOV     R1,#?V0 + 12
   \   00051B   12....       LCALL   ?FLT_MUL
   \   00051E   78..         MOV     R0,#?V0 + 8
   \   000520   79..         MOV     R1,#?V0 + 0
   \   000522   12....       LCALL   ?FLT_ADD
   \   000525   78..         MOV     R0,#?V0 + 8
   \   000527   79..         MOV     R1,#?V0 + 4
   \   000529   12....       LCALL   ?FLT_DIV
   \   00052C   7432         MOV     A,#0x32
   \   00052E   12....       LCALL   ?XSTACK_DISP0_8
   \   000531   78..         MOV     R0,#?V0 + 8
   \   000533   12....       LCALL   ?L_MOV_TO_X
    455                 Y[0]= (uint8)(location[0]*10);
   \   000536   742E         MOV     A,#0x2e
   \   000538   12....       LCALL   ?XSTACK_DISP0_8
   \   00053B   78..         MOV     R0,#?V0 + 0
   \   00053D   12....       LCALL   ?L_MOV_X
   \   000540   90....       MOV     DPTR,#__Constant_41200000
   \   000543   78..         MOV     R0,#?V0 + 4
   \   000545   12....       LCALL   ?L_MOV_X
   \   000548   78..         MOV     R0,#?V0 + 0
   \   00054A   79..         MOV     R1,#?V0 + 4
   \   00054C   12....       LCALL   ?FLT_MUL
   \   00054F   78..         MOV     R0,#?V0 + 0
   \   000551   12....       LCALL   ?FLT_TO_L
   \   000554   7406         MOV     A,#0x6
   \   000556   12....       LCALL   ?XSTACK_DISP0_8
   \   000559   E5..         MOV     A,?V0 + 0
   \   00055B   F0           MOVX    @DPTR,A
    456                 Y[1]= (uint8)(location[1]*10);
   \   00055C   90....       MOV     DPTR,#__Constant_41200000
   \   00055F   78..         MOV     R0,#?V0 + 0
   \   000561   12....       LCALL   ?L_MOV_X
   \   000564   78..         MOV     R0,#?V0 + 8
   \   000566   79..         MOV     R1,#?V0 + 0
   \   000568   12....       LCALL   ?FLT_MUL
   \   00056B   78..         MOV     R0,#?V0 + 8
   \   00056D   12....       LCALL   ?FLT_TO_L
   \   000570   7407         MOV     A,#0x7
   \   000572   12....       LCALL   ?XSTACK_DISP0_8
   \   000575   E5..         MOV     A,?V0 + 8
   \   000577   F0           MOVX    @DPTR,A
    457                 HalUARTWrite(0,&flag,1);
   \   000578                ; Setup parameters for call to function HalUARTWrite
   \   000578   7C01         MOV     R4,#0x1
   \   00057A   7D00         MOV     R5,#0x0
   \   00057C   7409         MOV     A,#0x9
   \   00057E   12....       LCALL   ?XSTACK_DISP0_8
   \   000581   AA82         MOV     R2,DPL
   \   000583   AB83         MOV     R3,DPH
   \   000585   7900         MOV     R1,#0x0
   \   000587   12....       LCALL   ??HalUARTWrite?relay
    458                 HalUARTWrite(0,Y,2);//发给PC机
   \   00058A                ; Setup parameters for call to function HalUARTWrite
   \   00058A   7C02         MOV     R4,#0x2
   \   00058C   7D00         MOV     R5,#0x0
   \   00058E   7406         MOV     A,#0x6
   \   000590   12....       LCALL   ?XSTACK_DISP0_8
   \   000593   AA82         MOV     R2,DPL
   \   000595   AB83         MOV     R3,DPH
   \   000597   7900         MOV     R1,#0x0
   \   000599   12....       LCALL   ??HalUARTWrite?relay
    459                 HalUARTWrite(0,&flag1,1);
   \   00059C                ; Setup parameters for call to function HalUARTWrite
   \   00059C   7C01         MOV     R4,#0x1
   \   00059E   7D00         MOV     R5,#0x0
   \   0005A0   7408         MOV     A,#0x8
   \   0005A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0005A5   AA82         MOV     R2,DPL
   \   0005A7   AB83         MOV     R3,DPH
   \   0005A9   7900         MOV     R1,#0x0
   \   0005AB   12....       LCALL   ??HalUARTWrite?relay
    460                 //HalUARTWrite(0,"",2);//发给PC机
    461                 
    462                   j=0;
   \   0005AE   90....       MOV     DPTR,#??j
   \   0005B1   E4           CLR     A
   \   0005B2   F0           MOVX    @DPTR,A
    463                  for(x=0;x<2;x++)
   \   0005B3   FE           MOV     R6,A
    464                    for(y=0;y<3;y++)
   \                     ??SampleApp_MessageMSGCB_12:
   \   0005B4   7A00         MOV     R2,#0x0
    465                      databuf[x][y]=0;
   \                     ??SampleApp_MessageMSGCB_13:
   \   0005B6   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_2:
   \   0005B9   40FB         JC      ??SampleApp_MessageMSGCB_13
   \   0005BB   0E           INC     R6
   \   0005BC   EE           MOV     A,R6
   \   0005BD   C3           CLR     C
   \   0005BE   9402         SUBB    A,#0x2
   \   0005C0   4003         JC      $+5
   \   0005C2   02....       LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
   \   0005C5   80ED         SJMP    ??SampleApp_MessageMSGCB_12
    466                 }else
    467                {
    468                  j=0;
   \                     ??SampleApp_MessageMSGCB_4:
   \   0005C7   90....       MOV     DPTR,#??j
   \   0005CA   E4           CLR     A
   \   0005CB   F0           MOVX    @DPTR,A
    469                 for(x=0;x<2;x++)
   \   0005CC   FE           MOV     R6,A
    470                    for(y=0;y<3;y++)
   \                     ??SampleApp_MessageMSGCB_14:
   \   0005CD   7A00         MOV     R2,#0x0
    471                      databuf[x][y]=0;     
   \                     ??SampleApp_MessageMSGCB_15:
   \   0005CF   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   0005D2   40FB         JC      ??SampleApp_MessageMSGCB_15
   \   0005D4   0E           INC     R6
   \   0005D5   EE           MOV     A,R6
   \   0005D6   C3           CLR     C
   \   0005D7   9402         SUBB    A,#0x2
   \   0005D9   4003         JC      $+5
   \   0005DB   02....       LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
   \   0005DE   80ED         SJMP    ??SampleApp_MessageMSGCB_14
    472                 }
    473               }
    474               
    475               //HalUARTWrite(0,&pkt->cmd.Data[0],2);//发给PC机
    476               break;
    477           
    478              case SAMPLEAPP_PERIODIC_CLUSTERID:
    479                   if (SampleApp_NwkState == DEV_ROUTER )
   \                     ??SampleApp_MessageMSGCB_1:
   \   0005E0   90....       MOV     DPTR,#SampleApp_NwkState
   \   0005E3   E0           MOVX    A,@DPTR
   \   0005E4   6407         XRL     A,#0x7
   \   0005E6   6003         JZ      $+5
   \   0005E8   02....       LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
    480                   {
    481                     uint8 buffer[2]={0};
   \   0005EB   7404         MOV     A,#0x4
   \   0005ED   12....       LCALL   ?XSTACK_DISP0_8
   \   0005F0   AC82         MOV     R4,DPL
   \   0005F2   AD83         MOV     R5,DPH
   \   0005F4   7583..       MOV     DPH,#(`?<Constant {0}>` >> 8) & 0xff
   \   0005F7   7582..       MOV     DPL,#`?<Constant {0}>` & 0xff
   \   0005FA   7402         MOV     A,#0x2
   \   0005FC   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    482                    //HalUARTWrite(0,0x00,1);
    483                      osal_nv_read( 0x0201,0, 1,&buffer[0] );
   \   0005FF                ; Setup parameters for call to function osal_nv_read
   \   0005FF   7404         MOV     A,#0x4
   \   000601   12....       LCALL   ?XSTACK_DISP0_8
   \   000604   8582..       MOV     ?V0 + 0,DPL
   \   000607   8583..       MOV     ?V0 + 1,DPH
   \   00060A   78..         MOV     R0,#?V0 + 0
   \   00060C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00060F   75..01       MOV     ?V0 + 0,#0x1
   \   000612   75..00       MOV     ?V0 + 1,#0x0
   \   000615   78..         MOV     R0,#?V0 + 0
   \   000617   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00061A   7C00         MOV     R4,#0x0
   \   00061C   7D00         MOV     R5,#0x0
   \   00061E   7A01         MOV     R2,#0x1
   \   000620   7B02         MOV     R3,#0x2
   \   000622   12....       LCALL   ??osal_nv_read?relay
   \   000625   7404         MOV     A,#0x4
   \   000627   12....       LCALL   ?DEALLOC_XSTACK8
    484                     buffer[1]=0xff-pkt->rssi;
   \   00062A   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   00062D   F8           MOV     R0,A
   \   00062E   74FF         MOV     A,#-0x1
   \   000630   C3           CLR     C
   \   000631   98           SUBB    A,R0
   \   000632   C0E0         PUSH    A
   \   000634   7405         MOV     A,#0x5
   \   000636   12....       LCALL   ?XSTACK_DISP0_8
   \   000639   D0E0         POP     A
   \   00063B   F0           MOVX    @DPTR,A
    485                     if ( AF_DataRequest( &SampleApp_PTP_DstAddr, &SampleApp_epDesc,
    486                                 SAMPLEAPP_PTP_CLUSTERID,
    487                                 2,
    488                                 buffer,
    489                                 &SampleApp_TransID,
    490                                 AF_DISCV_ROUTE,
    491                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   00063C                ; Setup parameters for call to function AF_DataRequest
   \   00063C   75..1E       MOV     ?V0 + 0,#0x1e
   \   00063F   78..         MOV     R0,#?V0 + 0
   \   000641   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000644   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000647   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   00064A   78..         MOV     R0,#?V0 + 0
   \   00064C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00064F   7407         MOV     A,#0x7
   \   000651   12....       LCALL   ?XSTACK_DISP0_8
   \   000654   8582..       MOV     ?V0 + 0,DPL
   \   000657   8583..       MOV     ?V0 + 1,DPH
   \   00065A   78..         MOV     R0,#?V0 + 0
   \   00065C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00065F   75..02       MOV     ?V0 + 0,#0x2
   \   000662   75..00       MOV     ?V0 + 1,#0x0
   \   000665   78..         MOV     R0,#?V0 + 0
   \   000667   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00066A   75..03       MOV     ?V0 + 0,#0x3
   \   00066D   78..         MOV     R0,#?V0 + 0
   \   00066F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000672   7920         MOV     R1,#0x20
   \   000674   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000676   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000678   7A..         MOV     R2,#SampleApp_PTP_DstAddr & 0xff
   \   00067A   7B..         MOV     R3,#(SampleApp_PTP_DstAddr >> 8) & 0xff
   \   00067C   12....       LCALL   ??AF_DataRequest?relay
   \   00067F   7409         MOV     A,#0x9
   \   000681   12....       LCALL   ?DEALLOC_XSTACK8
    492                       {
    493                       }
    494                     else
    495                     {
    496                        // Error occurred in request to send.
    497                      }
    498                  }
    499                   break;
    500                // rssi_buf[0]=pkt->rssi;
    501                 //rssi_buf[0]='-';
    502                // rssi_buf[1]=pkt->rssi/10+0x30;
    503                 //rssi_buf[2]=pkt->rssi%10+0x30;
    504                
    505                 /*for(i=1;i<len+1;i++)
    506                 rssi_buf[i]=pkt->cmd.Data[i];
    507                //HalUARTWrite(0,"\n",1);               // 回车换行
    508                  for(i=0;i<len+1;i++)
    509                 HalUARTWrite(0,&rssi_buf[i],1);//发给PC机
    510              HalUARTWrite(0,"\n",2); */
    511               
    512          
    513             /* case SAMPLEAPP_FLASH_CLUSTERID:
    514                flashTime = BUILD_UINT16(pkt->cmd.Data[1], pkt->cmd.Data[2] );
    515                HalLedBlink( HAL_LED_4, 4, 50, (flashTime / 4) );
    516                break;*/
    517            }
    518          }
   \                     ??SampleApp_MessageMSGCB_0:
   \   000684   7436         MOV     A,#0x36
   \   000686   12....       LCALL   ?DEALLOC_XSTACK8
   \   000689   7F10         MOV     R7,#0x10
   \   00068B   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   EE           MOV     A,R6
   \   000001   2418         ADD     A,#0x18
   \   000003                REQUIRE ??Subroutine5_0
   \   000003                ; // Fall through to label ??Subroutine5_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine5_0:
   \   000000   F582         MOV     DPL,A
   \   000002   EF           MOV     A,R7
   \   000003                REQUIRE ??Subroutine6_0
   \   000003                ; // Fall through to label ??Subroutine6_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine6_0:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   8A..         MOV     ?V0 + 0,R2
   \   000002   EE           MOV     A,R6
   \   000003   75F003       MOV     B,#0x3
   \   000006   A4           MUL     AB
   \   000007   F8           MOV     R0,A
   \   000008   A9F0         MOV     R1,B
   \   00000A   74..         MOV     A,#??databuf & 0xff
   \   00000C   28           ADD     A,R0
   \   00000D   F8           MOV     R0,A
   \   00000E   74..         MOV     A,#(??databuf >> 8) & 0xff
   \   000010   39           ADDC    A,R1
   \   000011   F9           MOV     R1,A
   \   000012   E8           MOV     A,R0
   \   000013   25..         ADD     A,?V0 + 0
   \   000015   F582         MOV     DPL,A
   \   000017   E9           MOV     A,R1
   \   000018   3400         ADDC    A,#0x0
   \   00001A   F583         MOV     DPH,A
   \   00001C   E4           CLR     A
   \   00001D   F0           MOVX    @DPTR,A
   \   00001E   0A           INC     R2
   \   00001F   EA           MOV     A,R2
   \   000020   C3           CLR     C
   \   000021   9403         SUBB    A,#0x3
   \   000023   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   74..         MOV     A,#(??databuf + 3) & 0xff
   \   000002   25..         ADD     A,?V0 + 8
   \   000004   F582         MOV     DPL,A
   \   000006   74..         MOV     A,#((??databuf + 3) >> 8) & 0xff
   \   000008   3400         ADDC    A,#0x0
   \   00000A   F583         MOV     DPH,A
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   24D6         ADD     A,#-0x2a
   \   00000F   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   F5..         MOV     ?V0 + 12,A
   \   000002   E4           CLR     A
   \   000003   34FF         ADDC    A,#-0x1
   \   000005   F5..         MOV     ?V0 + 13,A
   \   000007   33           RLC     A
   \   000008   95E0         SUBB    A,0xE0 /* A   */
   \   00000A   F5..         MOV     ?V0 + 14,A
   \   00000C   F5..         MOV     ?V0 + 15,A
   \   00000E   78..         MOV     R0,#?V0 + 12
   \   000010   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??databuf:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??j:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    519          
    520          /*********************************************************************
    521           * @fn      SampleApp_SendPeriodicMessage
    522           *
    523           * @brief   Send the periodic message.
    524           *
    525           * @param   none
    526           *
    527           * @return  none
    528           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    529          void SampleApp_SendPeriodicMessage( void )
   \                     SampleApp_SendPeriodicMessage:
    530          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    531            uint8 buf=0;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   E4           CLR     A
   \   000011   F0           MOVX    @DPTR,A
    532            if (SampleApp_NwkState == DEV_END_DEVICE )
   \   000012   90....       MOV     DPTR,#SampleApp_NwkState
   \   000015   E0           MOVX    A,@DPTR
   \   000016   6406         XRL     A,#0x6
   \   000018   7074         JNZ     ??SampleApp_SendPeriodicMessage_0
    533             {
    534               osal_nv_read( 0x0201,0, 1,&buf );
   \   00001A                ; Setup parameters for call to function osal_nv_read
   \   00001A   85..82       MOV     DPL,?XSP + 0
   \   00001D   85..83       MOV     DPH,?XSP + 1
   \   000020   8582..       MOV     ?V0 + 0,DPL
   \   000023   8583..       MOV     ?V0 + 1,DPH
   \   000026   78..         MOV     R0,#?V0 + 0
   \   000028   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002B   75..01       MOV     ?V0 + 0,#0x1
   \   00002E   75..00       MOV     ?V0 + 1,#0x0
   \   000031   78..         MOV     R0,#?V0 + 0
   \   000033   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000036   7C00         MOV     R4,#0x0
   \   000038   7D00         MOV     R5,#0x0
   \   00003A   7A01         MOV     R2,#0x1
   \   00003C   7B02         MOV     R3,#0x2
   \   00003E   12....       LCALL   ??osal_nv_read?relay
   \   000041   7404         MOV     A,#0x4
   \   000043   12....       LCALL   ?DEALLOC_XSTACK8
    535               //HalUARTWrite(0,"AA",2);
    536               if ( AF_DataRequest( &SampleApp_PTP_DstAddr, &SampleApp_epDesc,
    537                                 SAMPLEAPP_PTP_CLUSTERID,
    538                                 1,
    539                                 &buf,
    540                                 &SampleApp_TransID,
    541                                 AF_DISCV_ROUTE,
    542                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000046                ; Setup parameters for call to function AF_DataRequest
   \   000046   75..1E       MOV     ?V0 + 0,#0x1e
   \   000049   78..         MOV     R0,#?V0 + 0
   \   00004B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00004E   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000051   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000054   78..         MOV     R0,#?V0 + 0
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000059   7403         MOV     A,#0x3
   \   00005B   12....       LCALL   ?XSTACK_DISP0_8
   \   00005E   8582..       MOV     ?V0 + 0,DPL
   \   000061   8583..       MOV     ?V0 + 1,DPH
   \   000064   78..         MOV     R0,#?V0 + 0
   \   000066   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000069   75..01       MOV     ?V0 + 0,#0x1
   \   00006C   75..00       MOV     ?V0 + 1,#0x0
   \   00006F   78..         MOV     R0,#?V0 + 0
   \   000071   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000074   75..03       MOV     ?V0 + 0,#0x3
   \   000077   78..         MOV     R0,#?V0 + 0
   \   000079   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007C   7920         MOV     R1,#0x20
   \   00007E   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000080   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000082   7A..         MOV     R2,#SampleApp_PTP_DstAddr & 0xff
   \   000084   7B..         MOV     R3,#(SampleApp_PTP_DstAddr >> 8) & 0xff
   \   000086   12....       LCALL   ??AF_DataRequest?relay
   \   000089   7409         MOV     A,#0x9
   \   00008B   12....       LCALL   ?DEALLOC_XSTACK8
    543            {
    544            }
    545            else
    546            {
    547              // Error occurred in request to send.
    548            }
    549             }
    550          }
   \                     ??SampleApp_SendPeriodicMessage_0:
   \   00008E   7401         MOV     A,#0x1
   \   000090                REQUIRE ?Subroutine0
   \   000090                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine7_0
   \   000003                ; // Fall through to label ??Subroutine7_0
    551          
    552          /*********************************************************************
    553           * @fn      SampleApp_SendFlashMessage
    554           *
    555           * @brief   Send the flash message to group 1.
    556           *
    557           * @param   flashTime - in milliseconds
    558           *
    559           * @return  none
    560           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    561          void SampleApp_SendFlashMessage( uint16 flashTime )
   \                     SampleApp_SendFlashMessage:
    562          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    563            uint8 buffer[3];
    564            buffer[0] = (uint8)(SampleAppFlashCounter++);
   \   00000A   90....       MOV     DPTR,#SampleAppFlashCounter
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   F0           MOVX    @DPTR,A
   \   000015   90....       MOV     DPTR,#SampleAppFlashCounter
   \   000018   E0           MOVX    A,@DPTR
   \   000019   04           INC     A
   \   00001A   F0           MOVX    @DPTR,A
    565            buffer[1] = LO_UINT16( flashTime );
   \   00001B   7401         MOV     A,#0x1
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   EA           MOV     A,R2
   \   000021   F0           MOVX    @DPTR,A
    566            buffer[2] = HI_UINT16( flashTime );
   \   000022   7402         MOV     A,#0x2
   \   000024   12....       LCALL   ?XSTACK_DISP0_8
   \   000027   EB           MOV     A,R3
   \   000028   F0           MOVX    @DPTR,A
    567          
    568            if ( AF_DataRequest( &SampleApp_Flash_DstAddr, &SampleApp_epDesc,
    569                                 SAMPLEAPP_FLASH_CLUSTERID,
    570                                 3,
    571                                 buffer,
    572                                 &SampleApp_TransID,
    573                                 AF_DISCV_ROUTE,
    574                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000029                ; Setup parameters for call to function AF_DataRequest
   \   000029   75..1E       MOV     ?V0 + 0,#0x1e
   \   00002C   78..         MOV     R0,#?V0 + 0
   \   00002E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000031   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000034   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000037   78..         MOV     R0,#?V0 + 0
   \   000039   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003C   7403         MOV     A,#0x3
   \   00003E   12....       LCALL   ?XSTACK_DISP0_8
   \   000041   8582..       MOV     ?V0 + 0,DPL
   \   000044   8583..       MOV     ?V0 + 1,DPH
   \   000047   78..         MOV     R0,#?V0 + 0
   \   000049   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004C   75..03       MOV     ?V0 + 0,#0x3
   \   00004F   75..00       MOV     ?V0 + 1,#0x0
   \   000052   78..         MOV     R0,#?V0 + 0
   \   000054   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000057   75..02       MOV     ?V0 + 0,#0x2
   \   00005A   78..         MOV     R0,#?V0 + 0
   \   00005C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005F   7920         MOV     R1,#0x20
   \   000061   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000063   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000065   7A..         MOV     R2,#SampleApp_Flash_DstAddr & 0xff
   \   000067   7B..         MOV     R3,#(SampleApp_Flash_DstAddr >> 8) & 0xff
   \   000069   12....       LCALL   ??AF_DataRequest?relay
   \   00006C   7409         MOV     A,#0x9
   \   00006E   12....       LCALL   ?DEALLOC_XSTACK8
    575            {
    576            }
    577            else
    578            {
    579              // Error occurred in request to send.
    580            }
    581          }
   \   000071   7403         MOV     A,#0x3
   \   000073   80..         SJMP    ?Subroutine0
    582          
    583          /*********************************************************************
    584          *********************************************************************/
    585          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    586          void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg)
   \                     SampleApp_SerialCMD:
    587          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    588            uint8 i,len,*str=NULL;     //len有用数据长度
                         ^
Warning[Pe177]: variable "i" was declared but never referenced

    uint8 i,len,*str=NULL;     //len有用数据长度
            ^
"E:\ZIGBEE\串口透传(RSSI) (115200）\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",588  Warning[Pe550]: 
          variable "len" was set but never used
    589            str=cmdMsg->msg;          //指向数据开头
    590            len=*str;                 //msg里的第1个字节代表后面的数据长度
    591          
    592            /********打印出串口接收到的数据，用于提示*********/
    593          
    594            //for(i=1;i<=len;i++)
    595           //HalUARTWrite(0,str+i,1 ); 
    596           // HalUARTWrite(0,"\n",1 );//换行  
    597          
    598            /*******发送出去***参考网蜂 1小时无线数据传输教程*********/
    599          
    600            //if ( AF_DataRequest( &SampleApp_Periodic_DstAddr, &SampleApp_epDesc,
    601          	                   // SAMPLEAPP_COM_CLUSTERID,//自己定义一个
    602          	                   // len+1,                  // 数据长度         
    603                                     /// str,                     //数据内容
    604          	                  //  &SampleApp_TransID, 
    605          	                  //  AF_DISCV_ROUTE,
    606          	                  //  AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
    607          	                   //  {
    608          	                   //  }
    609           // else
    610            //{
    611            // Error occurred in request to send.
    612            //} 
    613          }
   \   000000   02....       LJMP    ?BRET

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendPeriodicMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendPeriodicMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendFlashMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendFlashMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SerialCMD?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SerialCMD

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 1">`:
   \   000000   47726F75     DB "Group 1"
   \            70203100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SampleApp">`:
   \   000000   53616D70     DB "SampleApp"
   \            6C654170
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {(0.0F)}>`:
   \   000000   00000000     DD 0H
   \   000004   00000000     DB 0, 0, 0, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>`:
   \   000000   00           DB 0
   \   000001   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41f40000:
   \   000000   0000F441     DD 41F40000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41200000:
   \   000000   00002041     DD 41200000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_40000000:
   \   000000   00000040     DD 40000000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41de6666:
   \   000000   6666DE41     DD 41DE6666H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_42053333:
   \   000000   33330542     DD 42053333H

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     SampleApp_HandleKeys               0      0     22
       -> SampleApp_SendFlashMessage
                                        0      0     20
       -> aps_FindGroup                 0      0     20
       -> aps_RemoveGroup               0      0     20
       -> aps_AddGroup                  0      0     20
     SampleApp_Init                     0      0     16
       -> MT_UartInit                   0      0     24
       -> MT_UartRegisterTaskID         0      0     24
       -> osal_nv_item_init             0      0     28
       -> osal_nv_write                 0      0     32
       -> afRegister                    0      0     24
       -> RegisterForKeys               0      0     24
       -> osal_memcpy                   0      0     30
       -> aps_AddGroup                  0      0     24
       -> HalLcdWriteString             0      0     24
     SampleApp_MessageMSGCB             4      0     99
       -> pow                           0      0    164
       -> pow                           0      0    164
       -> pow                           0      0    164
       -> HalUARTWrite                  0      0    156
       -> HalUARTWrite                  0      0    156
       -> HalUARTWrite                  0      0    156
       -> osal_nv_read                  0      0    164
       -> AF_DataRequest                0      0    174
     SampleApp_ProcessEvent             0      0     12
       -> osal_msg_receive              0      0     24
       -> osal_start_timerEx            0      0     24
       -> osal_msg_deallocate           0      0     24
       -> osal_msg_receive              0      0     24
       -> SampleApp_HandleKeys          0      0     24
       -> SampleApp_MessageMSGCB        0      0     24
       -> SampleApp_SendPeriodicMessage
                                        0      0     24
       -> osal_rand                     0      0     24
       -> osal_start_timerEx            0      0     24
     SampleApp_SendFlashMessage         1      0     32
       -> AF_DataRequest                0      0     44
     SampleApp_SendPeriodicMessage      0      0     32
       -> osal_nv_read                  0      0     30
       -> AF_DataRequest                0      0     40
     SampleApp_SerialCMD                0      0      0


   Segment part sizes:

     Function/Label                        Bytes
     --------------                        -----
     SampleApp_ClusterList                    6
     SampleApp_SimpleDesc                    12
     SampleApp_epDesc                         6
     SampleApp_TaskID                         1
     SampleApp_NwkState                       1
     SampleApp_TransID                        1
     SampleApp_Periodic_DstAddr              12
     SampleApp_PTP_DstAddr                   12
     SampleApp_Flash_DstAddr                 12
     SampleApp_Group                         18
     SampleAppPeriodicCounter                 1
     SampleAppFlashCounter                    1
     SampleApp_Init                         274
     SampleApp_ProcessEvent                 171
     SampleApp_HandleKeys                    62
     ??Subroutine7_0                          5
     SampleApp_MessageMSGCB                1678
     ?Subroutine3                             3
     ??Subroutine5_0                          3
     ??Subroutine6_0                          6
     ?Subroutine2                            36
     ?Subroutine1                            19
     ?Subroutine4                            17
     databuf                                  6
     j                                        1
     SampleApp_SendPeriodicMessage          144
     ?Subroutine0                             3
     SampleApp_SendFlashMessage             117
     SampleApp_SerialCMD                      3
     ??SampleApp_Init?relay                   6
     ??SampleApp_ProcessEvent?relay           6
     ??SampleApp_HandleKeys?relay             6
     ??SampleApp_MessageMSGCB?relay           6
     ??SampleApp_SendPeriodicMessage?relay    6
     ??SampleApp_SendFlashMessage?relay       6
     ??SampleApp_SerialCMD?relay              6
     ?<Constant "Group 1">                    8
     ?<Constant "SampleApp">                 10
     ?<Constant {(0.0F)}>                     8
     ?<Constant {0}>                          2
     __Constant_0                             4
     __Constant_41f40000                      4
     __Constant_41200000                      4
     __Constant_40000000                      4
     __Constant_41de6666                      4
     __Constant_42053333                      4

 
 2 541 bytes in segment BANKED_CODE
    42 bytes in segment BANK_RELAYS
    70 bytes in segment XDATA_ROM_C
    72 bytes in segment XDATA_Z
 
 2 583 bytes of CODE  memory
    46 bytes of CONST memory (+ 24 bytes shared)
    72 bytes of XDATA memory

Errors: none
Warnings: 6
